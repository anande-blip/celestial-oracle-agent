{\rtf1\ansi\ansicpg1252\cocoartf2636
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 Menlo-Regular;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue255;\red255\green255\blue254;\red0\green0\blue0;
\red14\green110\blue109;\red144\green1\blue18;\red19\green118\blue70;\red15\green112\blue1;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c100000;\cssrgb\c100000\c100000\c99608;\cssrgb\c0\c0\c0;
\cssrgb\c0\c50196\c50196;\cssrgb\c63922\c8235\c8235;\cssrgb\c3529\c52549\c34510;\cssrgb\c0\c50196\c0;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs24 \cf2 \cb3 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 import\cf0 \strokec4  \cf5 \strokec5 React\cf0 \strokec4 , \{ \cf5 \strokec5 KeyboardEvent\cf0 \strokec4 , useRef \} \cf2 \strokec2 from\cf0 \strokec4  \cf6 \strokec6 'react'\cf0 \strokec4 ;\cb1 \
\cf2 \cb3 \strokec2 import\cf0 \strokec4  \{ \cf5 \strokec5 AppMode\cf0 \strokec4 , \cf5 \strokec5 UploadedImage\cf0 \strokec4  \} \cf2 \strokec2 from\cf0 \strokec4  \cf6 \strokec6 '../types'\cf0 \strokec4 ;\cb1 \
\
\cf2 \cb3 \strokec2 interface\cf0 \strokec4  \cf5 \strokec5 PromptBarProps\cf0 \strokec4  \{\cb1 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb3   prompt: \cf2 \strokec2 string\cf0 \strokec4 ;\cb1 \
\cb3   setPrompt: (value: \cf2 \strokec2 string\cf0 \strokec4 ) => \cf2 \strokec2 void\cf0 \strokec4 ;\cb1 \
\cb3   onAction: () => \cf2 \strokec2 void\cf0 \strokec4 ;\cb1 \
\cb3   isLoading: \cf2 \strokec2 boolean\cf0 \strokec4 ;\cb1 \
\cb3   mode: \cf5 \strokec5 AppMode\cf0 \strokec4 ;\cb1 \
\cb3   uploadedImage: \cf5 \strokec5 UploadedImage\cf0 \strokec4  | \cf2 \strokec2 null\cf0 \strokec4 ;\cb1 \
\cb3   onUpload: (file: \cf5 \strokec5 File\cf0 \strokec4 ) => \cf2 \strokec2 void\cf0 \strokec4 ;\cb1 \
\cb3   onClearUpload: () => \cf2 \strokec2 void\cf0 \strokec4 ;\cb1 \
\cb3 \}\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf2 \cb3 \strokec2 const\cf0 \strokec4  \cf5 \strokec5 PromptBar\cf0 \strokec4 : \cf5 \strokec5 React\cf0 \strokec4 .\cf5 \strokec5 FC\cf0 \strokec4 <\cf5 \strokec5 PromptBarProps\cf0 \strokec4 > = (\{ \cb1 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb3   prompt, \cb1 \
\cb3   setPrompt, \cb1 \
\cb3   onAction, \cb1 \
\cb3   isLoading, \cb1 \
\cb3   mode,\cb1 \
\cb3   uploadedImage,\cb1 \
\cb3   onUpload,\cb1 \
\cb3   onClearUpload\cb1 \
\cb3 \}) => \{\cb1 \
\cb3   \cf2 \strokec2 const\cf0 \strokec4  fileInputRef = useRef<\cf5 \strokec5 HTMLInputElement\cf0 \strokec4 >(\cf2 \strokec2 null\cf0 \strokec4 );\cb1 \
\
\cb3   \cf2 \strokec2 const\cf0 \strokec4  handleKeyDown = (e: \cf5 \strokec5 KeyboardEvent\cf0 \strokec4 <\cf5 \strokec5 HTMLInputElement\cf0 \strokec4 >) => \{\cb1 \
\cb3     \cf2 \strokec2 if\cf0 \strokec4  (e.key === \cf6 \strokec6 'Enter'\cf0 \strokec4  && !isLoading && prompt.trim()) \{\cb1 \
\cb3       onAction();\cb1 \
\cb3     \}\cb1 \
\cb3   \};\cb1 \
\
\cb3   \cf2 \strokec2 const\cf0 \strokec4  handleFileChange = (e: \cf5 \strokec5 React\cf0 \strokec4 .\cf5 \strokec5 ChangeEvent\cf0 \strokec4 <\cf5 \strokec5 HTMLInputElement\cf0 \strokec4 >) => \{\cb1 \
\cb3     \cf2 \strokec2 if\cf0 \strokec4  (e.target.files && e.target.files[\cf7 \strokec7 0\cf0 \strokec4 ]) \{\cb1 \
\cb3       onUpload(e.target.files[\cf7 \strokec7 0\cf0 \strokec4 ]);\cb1 \
\cb3     \}\cb1 \
\cb3   \};\cb1 \
\
\cb3   \cf2 \strokec2 return\cf0 \strokec4  (\cb1 \
\cb3     <div className=\cf6 \strokec6 "w-full max-w-3xl mx-auto mt-6 relative z-20"\cf0 \strokec4 >\cb1 \
\cb3       \cb1 \
\cb3       \{\cf8 \strokec8 /* Upload Preview */\cf0 \strokec4 \}\cb1 \
\cb3       \{uploadedImage && (\cb1 \
\cb3         <div className=\cf6 \strokec6 "absolute -top-24 left-4 z-0 animate-fade-in-up"\cf0 \strokec4 >\cb1 \
\cb3           <div className=\cf6 \strokec6 "relative group"\cf0 \strokec4 >\cb1 \
\cb3             <div className=\cf6 \strokec6 "w-20 h-20 rounded-lg border-2 border-purple-500/50 overflow-hidden shadow-[0_0_15px_rgba(168,85,247,0.3)] bg-black"\cf0 \strokec4 >\cb1 \
\cb3               <img \cb1 \
\cb3                 src=\{\cf6 \strokec6 `data:\cf0 \strokec4 $\{uploadedImage.mimeType\}\cf6 \strokec6 ;base64,\cf0 \strokec4 $\{uploadedImage.base64\}\cf6 \strokec6 `\cf0 \strokec4 \} \cb1 \
\cb3                 alt=\cf6 \strokec6 "Offering"\cf0 \strokec4  \cb1 \
\cb3                 className=\cf6 \strokec6 "w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"\cf0 \cb1 \strokec4 \
\cb3               />\cb1 \
\cb3             </div>\cb1 \
\cb3             <button\cb1 \
\cb3               onClick=\{onClearUpload\}\cb1 \
\cb3               className=\cf6 \strokec6 "absolute -top-2 -right-2 bg-red-900 text-red-200 rounded-full p-1 border border-red-500 hover:bg-red-700 transition-colors shadow-lg"\cf0 \cb1 \strokec4 \
\cb3               title=\cf6 \strokec6 "Remove Offering"\cf0 \cb1 \strokec4 \
\cb3             >\cb1 \
\cb3               <svg className=\cf6 \strokec6 "w-3 h-3"\cf0 \strokec4  fill=\cf6 \strokec6 "none"\cf0 \strokec4  stroke=\cf6 \strokec6 "currentColor"\cf0 \strokec4  viewBox=\cf6 \strokec6 "0 0 24 24"\cf0 \strokec4 >\cb1 \
\cb3                 <path strokeLinecap=\cf6 \strokec6 "round"\cf0 \strokec4  strokeLinejoin=\cf6 \strokec6 "round"\cf0 \strokec4  strokeWidth=\{\cf7 \strokec7 2\cf0 \strokec4 \} d=\cf6 \strokec6 "M6 18L18 6M6 6l12 12"\cf0 \strokec4  />\cb1 \
\cb3               </svg>\cb1 \
\cb3             </button>\cb1 \
\cb3             <div className=\cf6 \strokec6 "absolute -bottom-6 left-0 right-0 text-center"\cf0 \strokec4 >\cb1 \
\cb3               <span className=\cf6 \strokec6 "text-[10px] text-purple-300 uppercase tracking-widest bg-black/50 px-2 py-0.5 rounded"\cf0 \strokec4 >\cf5 \strokec5 Offering\cf0 \strokec4 </span>\cb1 \
\cb3             </div>\cb1 \
\cb3           </div>\cb1 \
\cb3         </div>\cb1 \
\cb3       )\}\cb1 \
\
\cb3       \{\cf8 \strokec8 /* Main Bar */\cf0 \strokec4 \}\cb1 \
\cb3       <div className=\cf6 \strokec6 "bg-slate-900/80 p-4 rounded-xl border border-purple-900/50 shadow-2xl backdrop-blur-sm relative z-10"\cf0 \strokec4 >\cb1 \
\cb3         <div className=\cf6 \strokec6 "flex flex-col sm:flex-row gap-3"\cf0 \strokec4 >\cb1 \
\cb3           \cb1 \
\cb3           <div className=\cf6 \strokec6 "relative flex-1 group"\cf0 \strokec4 >\cb1 \
\cb3             \{\cf8 \strokec8 /* Upload Button */\cf0 \strokec4 \}\cb1 \
\cb3             <button\cb1 \
\cb3               onClick=\{() => fileInputRef.current?.click()\}\cb1 \
\cb3               disabled=\{isLoading\}\cb1 \
\cb3               className=\cf6 \strokec6 "absolute left-3 top-1/2 -translate-y-1/2 text-purple-400/50 hover:text-purple-300 transition-colors p-1 rounded-md hover:bg-white/5 disabled:opacity-30"\cf0 \cb1 \strokec4 \
\cb3               title=\cf6 \strokec6 "Upload Reference Image"\cf0 \cb1 \strokec4 \
\cb3             >\cb1 \
\cb3               <svg className=\cf6 \strokec6 "w-5 h-5"\cf0 \strokec4  fill=\cf6 \strokec6 "none"\cf0 \strokec4  stroke=\cf6 \strokec6 "currentColor"\cf0 \strokec4  viewBox=\cf6 \strokec6 "0 0 24 24"\cf0 \strokec4 >\cb1 \
\cb3                 <path strokeLinecap=\cf6 \strokec6 "round"\cf0 \strokec4  strokeLinejoin=\cf6 \strokec6 "round"\cf0 \strokec4  strokeWidth=\{\cf7 \strokec7 2\cf0 \strokec4 \} d=\cf6 \strokec6 "M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"\cf0 \strokec4  />\cb1 \
\cb3               </svg>\cb1 \
\cb3             </button>\cb1 \
\cb3             <input\cb1 \
\cb3               \cf2 \strokec2 type\cf0 \strokec4 =\cf6 \strokec6 "file"\cf0 \cb1 \strokec4 \
\cb3               ref=\{fileInputRef\}\cb1 \
\cb3               onChange=\{handleFileChange\}\cb1 \
\cb3               accept=\cf6 \strokec6 "image/*"\cf0 \cb1 \strokec4 \
\cb3               className=\cf6 \strokec6 "hidden"\cf0 \cb1 \strokec4 \
\cb3             />\cb1 \
\
\cb3             <input\cb1 \
\cb3               \cf2 \strokec2 type\cf0 \strokec4 =\cf6 \strokec6 "text"\cf0 \cb1 \strokec4 \
\cb3               value=\{prompt\}\cb1 \
\cb3               onChange=\{(e) => setPrompt(e.target.value)\}\cb1 \
\cb3               onKeyDown=\{handleKeyDown\}\cb1 \
\cb3               disabled=\{isLoading\}\cb1 \
\cb3               placeholder=\{uploadedImage \cb1 \
\cb3                 ? \cf6 \strokec6 "Describe how to transform this image..."\cf0 \strokec4  \cb1 \
\cb3                 : mode === \cf5 \strokec5 AppMode\cf0 \strokec4 .\cf5 \strokec5 CREATE\cf0 \strokec4  \cb1 \
\cb3                   ? \cf6 \strokec6 "Describe a mystical scene to conjure..."\cf0 \strokec4  \cb1 \
\cb3                   : \cf6 \strokec6 "Tell the spirits how to change this image..."\cf0 \cb1 \strokec4 \
\cb3               \}\cb1 \
\cb3               className=\cf6 \strokec6 "w-full bg-slate-800/50 border border-purple-800/30 text-purple-100 placeholder-purple-400/30 text-sm sm:text-base rounded-lg pl-12 pr-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent transition-all disabled:opacity-50"\cf0 \cb1 \strokec4 \
\cb3             />\cb1 \
\cb3           </div>\cb1 \
\
\cb3           <button\cb1 \
\cb3             onClick=\{onAction\}\cb1 \
\cb3             disabled=\{isLoading || !prompt.trim()\}\cb1 \
\cb3             className=\{\cf6 \strokec6 `\cf0 \cb1 \strokec4 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6               px-6 py-3 rounded-lg font-semibold tracking-wide text-sm sm:text-base transition-all transform active:scale-95\cf0 \cb1 \strokec4 \
\cf6 \cb3 \strokec6               disabled:opacity-50 disabled:cursor-not-allowed\cf0 \cb1 \strokec4 \
\cf6 \cb3 \strokec6               \cf0 \strokec4 $\{(mode === \cf5 \strokec5 AppMode\cf0 \strokec4 .\cf5 \strokec5 CREATE\cf0 \strokec4  && !uploadedImage)\cb1 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb3                 ? \cf6 \strokec6 'bg-gradient-to-r from-purple-700 to-indigo-800 hover:from-purple-600 hover:to-indigo-700 text-white shadow-[0_0_15px_rgba(168,85,247,0.3)]'\cf0 \strokec4  \cb1 \
\cb3                 : \cf6 \strokec6 'bg-gradient-to-r from-amber-700 to-orange-800 hover:from-amber-600 hover:to-orange-700 text-amber-100 shadow-[0_0_15px_rgba(245,158,11,0.3)]'\cf0 \cb1 \strokec4 \
\cb3               \}\cb1 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6             `\cf0 \strokec4 \}\cb1 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb3           >\cb1 \
\cb3             \{isLoading ? (\cb1 \
\cb3               <span className=\cf6 \strokec6 "flex items-center gap-2"\cf0 \strokec4 >\cb1 \
\cb3                 <svg className=\cf6 \strokec6 "animate-spin h-4 w-4"\cf0 \strokec4  viewBox=\cf6 \strokec6 "0 0 24 24"\cf0 \strokec4 >\cb1 \
\cb3                   <circle className=\cf6 \strokec6 "opacity-25"\cf0 \strokec4  cx=\cf6 \strokec6 "12"\cf0 \strokec4  cy=\cf6 \strokec6 "12"\cf0 \strokec4  r=\cf6 \strokec6 "10"\cf0 \strokec4  stroke=\cf6 \strokec6 "currentColor"\cf0 \strokec4  strokeWidth=\cf6 \strokec6 "4"\cf0 \strokec4 ></circle>\cb1 \
\cb3                   <path className=\cf6 \strokec6 "opacity-75"\cf0 \strokec4  fill=\cf6 \strokec6 "currentColor"\cf0 \strokec4  d=\cf6 \strokec6 "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"\cf0 \strokec4 ></path>\cb1 \
\cb3                 </svg>\cb1 \
\cb3                 \cf5 \strokec5 Weaving\cf0 \strokec4 ...\cb1 \
\cb3               </span>\cb1 \
\cb3             ) : (\cb1 \
\cb3               (mode === \cf5 \strokec5 AppMode\cf0 \strokec4 .\cf5 \strokec5 CREATE\cf0 \strokec4  && !uploadedImage) ? \cf6 \strokec6 "Conjure"\cf0 \strokec4  : \cf6 \strokec6 "Transmute"\cf0 \cb1 \strokec4 \
\cb3             )\}\cb1 \
\cb3           </button>\cb1 \
\cb3         </div>\cb1 \
\cb3         \cb1 \
\cb3         <div className=\cf6 \strokec6 "mt-2 flex justify-between items-center text-xs text-purple-400/40 font-mono"\cf0 \strokec4 >\cb1 \
\cb3           <span>\cb1 \
\cb3             \{uploadedImage \cb1 \
\cb3               ? \cf6 \strokec6 "Ritual source: Uploaded Artifact"\cf0 \strokec4  \cb1 \
\cb3               : mode === \cf5 \strokec5 AppMode\cf0 \strokec4 .\cf5 \strokec5 CREATE\cf0 \strokec4  \cb1 \
\cb3                 ? \cf6 \strokec6 "Ritual source: Void (Text to Image)"\cf0 \strokec4  \cb1 \
\cb3                 : \cf6 \strokec6 "Ritual source: Existing Vision"\cf0 \cb1 \strokec4 \
\cb3             \}\cb1 \
\cb3           </span>\cb1 \
\cb3           <span>\cf5 \strokec5 Gemini\cf0 \strokec4  \cf7 \strokec7 2.5\cf0 \strokec4  \cf5 \strokec5 Flash\cf0 \strokec4  \cf5 \strokec5 Image\cf0 \strokec4 </span>\cb1 \
\cb3         </div>\cb1 \
\cb3       </div>\cb1 \
\cb3     </div>\cb1 \
\cb3   );\cb1 \
\cb3 \};\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf2 \cb3 \strokec2 export\cf0 \strokec4  \cf2 \strokec2 default\cf0 \strokec4  \cf5 \strokec5 PromptBar\cf0 \strokec4 ;\cb1 \
}